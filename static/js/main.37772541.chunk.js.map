{"version":3,"sources":["components/Square/Square.jsx","components/Board/index.js","components/Board/Board.jsx","components/NamesPopup/index.js","components/NamesPopup/NamesPopup.jsx","utils/setStrikeStyle.js","components/App.jsx","utils/calculateWinner.js","utils/tieCheck.js","index.js"],"names":["Square","value","onClick","className","Board","squares","style","map","square","i","NamesPopup","handlePlayerNames","handleShowContent","onChange","name","type","setStrikeStyle","id","App","useState","showContent","setShowContent","Array","fill","board","setBoard","winner","setWinner","xIsNext","setXisNext","player1","player2","playerNames","setPlayerNames","playerScore","setPlayerScore","xO","React","useEffect","lines","length","a","b","c","calculateWinner","some","item","res","arr","includes","every","tieCheck","alert","prev","slice","next","updateScore","e","preventDefault","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.37772541.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Square({ value, onClick }) {\n  return (\n    <button className=\"square\" onClick={onClick}>\n      {value}\n    </button>\n  );\n}\n","import Board from \"./Board\";\nexport default Board;\n","import React from \"react\";\n\nimport Square from \"../Square/Square\";\n\nexport default function Board({ squares, onClick, style }) {\n  return (\n    <div className={style ? `board ${style}` : \"board\"}>\n      {squares.map((square, i) => {\n        return <Square key={i} value={square} onClick={() => onClick(i)} />;\n      })}\n    </div>\n  );\n}\n","import NamesPopup from \"./NamesPopup\";\nexport default NamesPopup;\n","import React from \"react\";\n\nexport default function NamesPopup({ handlePlayerNames, handleShowContent }) {\n  return (\n    <form className=\"names-popup\">\n      <h2 className=\"names-popup__title\">Enter player names</h2>\n      <div className=\"names-popup__players\">\n        <label className=\"names-popup__label\">\n          Player 1:\n          <input\n            onChange={handlePlayerNames}\n            name=\"player1\"\n            type=\"text\"\n            className=\"names-popup__input\"\n          />\n        </label>\n        <label className=\"names-popup__label\">\n          Player 2:\n          <input\n            onChange={handlePlayerNames}\n            name=\"player2\"\n            type=\"text\"\n            className=\"names-popup__input\"\n          />\n        </label>\n      </div>\n      <button onClick={handleShowContent} className=\"names-popup__btn\">\n        Play\n      </button>\n    </form>\n  );\n}\n","export function setStrikeStyle(id) {\n  switch (id) {\n    case 0:\n      return \"horizontal top\";\n    case 1:\n      return \"horizontal middle\";\n    case 2:\n      return \"horizontal bottom\";\n    case 3:\n      return \"vertical left\";\n    case 4:\n      return \"vertical middle\";\n    case 5:\n      return \"vertical right\";\n    case 6:\n      return \"diagonal left\";\n    case 7:\n      return \"diagonal right\";\n    default:\n      return null;\n  }\n}\n","import React, { useState } from \"react\";\n\nimport Board from \"./Board\";\nimport NamesPopup from \"./NamesPopup\";\n\nimport { calculateWinner } from \"../utils/calculateWinner\";\nimport { setStrikeStyle } from \"../utils/setStrikeStyle\";\nimport { tieCheck } from \"../utils/tieCheck\";\n\nexport default function App() {\n  const [showContent, setShowContent] = useState(false);\n  const [board, setBoard] = useState(Array(9).fill(null));\n  const [winner, setWinner] = useState(null);\n  const [xIsNext, setXisNext] = useState(true);\n  const [playerNames, setPlayerNames] = useState({\n    player1: \"Player 1\",\n    player2: \"Player 2\",\n  });\n  const [playerScore, setPlayerScore] = useState({\n    player1: 0,\n    player2: 0,\n  });\n  const xO = xIsNext ? \"X\" : \"O\";\n\n  const updateScore = (winner) => {\n    if (winner === \"X\") {\n      setPlayerScore({ ...playerScore, player1: ++playerScore.player1 });\n    } else if (winner === \"O\") {\n      setPlayerScore({ ...playerScore, player2: ++playerScore.player2 });\n    }\n    return;\n  };\n\n  React.useEffect(() => {\n    setWinner(calculateWinner(board));\n    if ((!winner && !board.some((item) => item === null)) || tieCheck(board)) {\n      alert(\"Ничья!\");\n      setBoard(Array(9).fill(null));\n      setXisNext(true);\n    }\n  }, [board, winner]);\n\n  const handleClick = (i) => {\n    if (!winner && !board[i]) {\n      const prev = board.slice(0, i);\n      const next = board.slice(i + 1);\n\n      setBoard([...prev, xO, ...next]);\n      setXisNext(!xIsNext);\n    }\n    if (winner) {\n      updateScore(winner[0]);\n      setBoard(Array(9).fill(null));\n      setWinner(null);\n      setXisNext(true);\n    }\n  };\n\n  const handleShowContent = () => {\n    setShowContent(true);\n  };\n\n  const handlePlayerNames = (e) => {\n    e.preventDefault();\n\n    const target = e.target;\n    setPlayerNames({ ...playerNames, [target.name]: target.value });\n  };\n\n  return (\n    <div className=\"wrapper\">\n      {showContent ? (\n        <div className=\"content\">\n          <Board\n            squares={board}\n            onClick={handleClick}\n            style={setStrikeStyle(winner && winner[1])}\n          />\n          <div className=\"score\">\n            <h1 className=\"score__title\">Score</h1>\n            <p className=\"score__player\">\n              {playerNames.player1}: {playerScore.player1}\n            </p>\n            <p className=\"score__player\">\n              {playerNames.player2}: {playerScore.player2}\n            </p>\n          </div>\n        </div>\n      ) : (\n        <NamesPopup\n          handlePlayerNames={handlePlayerNames}\n          handleShowContent={handleShowContent}\n        />\n      )}\n    </div>\n  );\n}\n","export function calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return [squares[a], i];\n    }\n  }\n  return null;\n}\n","export function tieCheck(board) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  const res = Array(8).fill(null);\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    const arr = [board[a], board[b], board[c]];\n    if (arr.includes(\"X\")) {\n      res[i] = \"X\";\n    } else if (arr.includes(\"O\")) {\n      res[i] = \"O\";\n    }\n  }\n  return res.every((item) => item === \"O\") || res.every((item) => item === \"X\");\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./styles/index.scss\";\n\nimport App from \"./components/App.jsx\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}